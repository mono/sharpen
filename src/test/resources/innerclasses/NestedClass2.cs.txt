namespace innerclasses
{
	public class NestedClass2
	{
		public class Foo
		{
			private innerclasses.NestedClass2.Foo _child;

			public Foo(NestedClass2 _enclosing, int i)
			{
				this._enclosing = _enclosing;
			}

			public virtual void foo()
			{
				this._enclosing.bar();
				this._child = new innerclasses.NestedClass2.Foo(this._enclosing, 1);
			}

			private readonly NestedClass2 _enclosing;
		}

		public virtual void bar()
		{
		}

		public virtual void run()
		{
			new innerclasses.NestedClass2.Foo(this, 42).foo();
		}
	}
}